# Galaxy Go UI - 待确认产品需求

> 日期: 2026-01-20
> 状态: 待确认

基于对星阵围棋模块介绍文档的深入分析，发现以下产品需求需要进一步确认。

---

## 1. AI级别体系

### 问题描述
星阵围棋有31个水平均匀分布的AI棋手（从入门到绝顶高手），使用独特技术让AI下法更像人类。

### 当前KaTrain情况
KaTrain使用KataGo引擎，通过AI策略（如Calibrated Rank、Simple Rank等）模拟不同水平。

### 需要确认
1. **Galaxy UI是否需要类似31级AI体系？**
   - 选项A: 保持现有KaTrain AI策略体系
   - 选项B: 新增一套从"入门"到"职业九段"的级别体系映射
   - 选项C: 简化为5-10个代表性级别

2. **AI定级3盘的AI对手如何选择？**
   - 固定3个难度？(如：初级、中级、高级)
   - 根据用户自报段位选择相近AI？

---

## 2. 道具系统

### 问题描述
星阵围棋提供三种道具：
- **领地道具**：显示当前局面形势判断和每个交叉点归属
- **支招道具**：获得AI选点推荐
- **变化图道具**：查看AI想象的后续进程

人人对弈限制3次使用，人机对弈无限制。

### 当前KaTrain情况
KaTrain已有：
- 形势分析（Ownership显示）
- AI建议（Analysis Panel显示top moves）
- 变化图显示

### 需要确认
1. **是否需要实现道具概念？**
   - 选项A: 不需要，KaTrain功能已经足够
   - 选项B: 需要，人人对弈时限制使用次数
   - 选项C: 保留概念但不限制次数（UI上显示为"辅助工具"）

---

## 3. 计费系统

### 问题描述
星阵围棋是付费服务：
- 研究功能按分钟计费
- 有星币余额系统
- 不同配置(5X-200X)对应不同费率

### 当前KaTrain情况
开源免费软件，用户自行配置KataGo后端

### 需要确认
1. **Galaxy UI是否需要计费功能？**
   - 选项A: 不需要，保持免费开源
   - 选项B: 预留计费接口但不实现
   - 选项C: 需要基础计费功能（如限制使用次数/时长）

2. **是否需要AI配置选择（5X/10X等）？**
   - 选项A: 不需要，用户使用自己的KataGo配置
   - 选项B: 提供简化的"快速/标准/深度"分析模式

---

## 4. 好友/社交系统

### 问题描述
星阵围棋有完整的社交功能：
- 在线棋友列表（全部/同级别/已关注）
- 关注/取消关注
- 邀请状态设置（允许/拒绝邀请）
- 查看棋友个人信息和历史棋谱

### 需要确认
1. **是否需要好友/关注系统？**
   - 选项A: 不需要，P5只实现匹配功能
   - 选项B: 简化版：仅邀请状态设置
   - 选项C: 完整版：关注系统+棋友列表分类

---

## 5. 棋谱库

### 问题描述
星阵围棋有：
- 我的棋谱（用户历史对局）
- 公共棋谱（名局、大赛、AI自对弈）
- 从棋谱库选择棋谱进行分析

### 当前KaTrain情况
- 支持SGF加载/保存（本地文件）
- 无云端棋谱存储

### 需要确认
1. **是否需要云端棋谱库？**
   - 选项A: 不需要，保持本地SGF操作
   - 选项B: 简化版：保存用户历史对局
   - 选项C: 完整版：我的棋谱+公共棋谱库

---

## 6. 对局类型

### 问题描述
星阵围棋区分：
- **自由战**：不计成绩，可自定义规则和用时
- **升降战**：计入成绩，用于升降级

### 需要确认
1. **是否需要区分对局类型？**
   - 选项A: 不需要，所有对局统一处理
   - 选项B: 人人对弈区分自由/升降，人机对弈默认自由
   - 选项C: 完整区分，人机也可以选择升降战

2. **升降规则如何设计？**
   - 采用星阵的净胜2-6盘升降？
   - 使用ELO积分系统？
   - 其他方案？

---

## 7. 对局结束后流程

### 问题描述
星阵围棋对局结束后提供：
- 一键生成棋谱报告
- 跳转到研究模式深度分析
- AI数子判定胜负

### 当前KaTrain情况
- 有GameReportDialog（已实现）
- 分析功能已有
- 数子功能？

### 需要确认
1. **是否需要AI自动数子功能？**
   - 选项A: 不需要，使用现有评分
   - 选项B: 需要，显示领地归属的可视化

---

## 8. 快捷键支持

### 问题描述
星阵围棋有丰富的快捷键：
- 空格/回车：落子AI首选
- 数字键1-9：查看第N选点变化图
- 方向键：棋谱导航
- PgUp/PgDn：快进5手
- Home/End：跳转首末
- Esc：取消变化图锁定

### 当前KaTrain情况
已有useKeyboardShortcuts hook，但快捷键定义可能不同

### 需要确认
1. **Galaxy UI快捷键是否需要对齐星阵？**
   - 选项A: 保持KaTrain现有快捷键
   - 选项B: 在研究模式下对齐星阵快捷键
   - 选项C: 提供快捷键自定义功能

---

## 决策优先级建议

| 问题 | 建议优先级 | 理由 |
|------|-----------|------|
| AI级别体系 | P1 | 影响人机对弈核心体验 |
| 道具系统 | P2 | 可复用现有功能，决定UI展示方式 |
| 计费系统 | 延后 | 开源项目特性，可先不实现 |
| 好友系统 | P2 | 影响P5人人对弈范围 |
| 棋谱库 | P2 | 影响用户数据持久化 |
| 对局类型 | P1 | 影响后端数据结构设计 |
| 结束流程 | P1 | 影响用户体验完整性 |
| 快捷键 | P3 | 影响较小，可后续优化 |

---

## 下一步行动

请逐一确认以上问题的产品决策，以便更新实施计划和风险评估。
